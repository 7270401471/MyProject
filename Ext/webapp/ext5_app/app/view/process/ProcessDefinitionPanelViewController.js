/*
 * File: app/view/menu/menuPanelViewController.js
 *
 * This file was generated by Sencha Architect version 3.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Evcorp.view.process.ProcessDefinitionPanelViewController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.processDefinitionPanelc',
    onProcessDefinitionSelected:function(grid, td, cellIndex, record, tr, rowIndex, e, eOpts){
    	var view = e.getTarget('.view');
    	if(view){
    		var imgName = '';
        	Ext.Ajax.request({
    			url : 'process/generateProcessPic',
    			params : {
    				id : record.data.id
    			},
                method: 'POST',	
    			success : function(data) {
    				imgName = data.responseText;
    				var win = Ext.create('Ext.window.Window',{
    		    		title:record.data.name,
    		    		width:'70%',
    		    		height:'70%',
    		    		modal:true,
    		    		autoScroll:true,
    		    		closable: true,
    		    		html: '<div>' +
    		    			'<img src="images/'+imgName+'" />' +
    		    			'</div>',
    		    		closeAction : 'destroy'
    	    		});
    	    		win.show();
    			}
    		});
    	}
    }
});
