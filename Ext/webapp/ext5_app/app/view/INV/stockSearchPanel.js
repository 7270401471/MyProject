/*
 * File: app/view/role/RoleMangerPanel.js
 *
 * This file was generated by Sencha Architect version 3.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 5.0.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 5.0.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Evcorp.view.INV.stockSearchPanel', {
	extend : 'Ext.panel.Panel',
	alias : 'widget.stockSearchPanel',
	requires : [ 
		        'Evcorp.view.INV.stockSearchPanelViewController',
				'Evcorp.view.INV.stockSearchPanelViewModel',
				'Ext.grid.Panel', 'Ext.tab.Panel', 'Ext.grid.column.Column',
				'Ext.grid.View', 'Ext.toolbar.Toolbar', 'Ext.button.Button',
				'Ext.toolbar.Fill', 'Ext.form.Panel', 'Ext.form.field.ComboBox',
				'Ext.form.DateField'
				],

	controller : 'stockSearchPanel',
	viewModel : {
		type : 'stockSearchPanel'
	},
	itemId : 'stockSearchPanel',
	closable : true,
	collapsible : true,
	referenceHolder : true,
	layout : {
		type : 'vbox',
		align : 'stretch'
	},
	autoScroll: true,
	items : [{
		flex:1,
        xtype: 'form',
        autoScroll: true,
        reference : 'carStockQueryForm',
        bodyPadding: '10',
		layout : {
			type : 'vbox',
			align : 'stretch'
		},
        items: [{
      	    xtype:'fieldset',
      	    columnWidth: 1,
      	    padding:'20',
      	    margin:'0',
      	    title: '车辆库存查询',
      	    collapsible: true,
      	    defaultType: 'textfield',
      	    defaults: {anchor: '100%'},
      	    //layout: 'vbox',
      	    //flex:1,
      	    items :[{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                                xtype : 'combobox',
	   									fieldLabel : '仓库',
	   									name : 'stock',
	   									itemId : 'stock',
	   									labelWidth : 70,
     	                                width : 200,
	   									valueField : 'code',
	   									displayField : 'nameCn',
	   									editable : false,
	   									bind : {
	   										store : '{carStockStore}',
	   									},
      	                            },
      	                            {
      	                                xtype : 'textfield',
      	                                fieldLabel : 'VIN',
      	                                name : 'vin',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20'
      	                            },
      	                            {
      	                            	xtype : 'combobox',
      	                                fieldLabel : '经销商',
      	                                name : 'agency',
      	                                itemId : 'agency',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
  										valueField : 'code',
  										displayField : 'nameCn',
  										editable : false,
  										allowBlank : false,
  										bind : {
  											store : '{carAgencyStore}',
  										},
      	                            },
      	                            {
										xtype : 'combobox',
										fieldLabel : '创建人',
										name : 'createBy',
										itemId : 'createBy',
										hidden : true,
										labelWidth : 80,
										width : 180,
										margin:'5 20 5 0',
										valueField : 'username',
										displayField : 'realname',
										editable : false,
										bind : {
											store : '{createByStore}',
										},
									},
									{
										xtype : 'combobox',
										fieldLabel : '创建人',
										name : 'createByUserId',
										itemId : 'createByUserId',
										hidden : true,
										labelWidth : 80,
										width : 180,
										margin:'5 20 5 0',
										valueField : 'id',
										displayField : 'realname',
										editable : false,
										bind : {
											store : '{createByStore}',
										},
									}
      	                            
      	                            /*
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '供应商',
      	                                name : 'venderId',
      	                                valueField : "id",
										displayField : "fullName",
      	                                labelWidth : 100,
      	                                width : 280,
      	                                margin : '0 20',
      	                                mode : 'local ',
      	                                editable : false,
          	                              store : Ext.create('Ext.data.Store',{
												fields : [
														'id',
														'fullName' ],
												proxy : {
													type : 'direct',
													directFn : venderContro.findVenderList
												}
											})
      	                            }*/]
      	            
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                            	 xtype : 'combobox',
                                         fieldLabel : '库存状态',
                                         name : 'stockStatus',
                                         itemId : 'stockStatus',
      	                                 labelWidth : 70,
      	                                 width : 200,
      	                                 valueField : 'code',
      	                                 displayField : 'nameCn',
      	                                 editable : false,
      	                                 bind : {
	  										store : '{stockStatusStore}',
      	                                 },
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '配车状态',
      	                                name : 'distributionStatus',
                                        itemId : 'distributionStatus',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{distributionStatusStore}',
	  									},
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '质损状态',
      	                                name : 'damageStatus',
                                        itemId : 'damageStatus',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{damageStatusStore}',
	  									},
      	                            }
      	                        ]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                            	xtype : 'combobox',
     									fieldLabel : '入库类型',
     									name : 'stockInType',
                                        itemId : 'stockInType',
      	                                labelWidth : 70,
      	                                width : 200,
     									editable : false,
     									valueField : 'code',
     									displayField : 'nameCn',
     									bind : {
     										store : '{stockInTypeStore}',
     									},
     								
      	                            },
      	                            {
  	                                	xtype : 'combobox',
      	                  				fieldLabel : '出库类型',
                                        itemId : 'stockOutType',
      	                  				name : 'stockOutType',
	      	                  			labelWidth : 70,
	  	                                width : 200,
	  	                                margin : '0 0 0 20',
      	                  				editable : false,
      	                  				valueField : 'code',
      	                  				displayField : 'nameCn',
      	                  				bind : {
      	                  					store : '{stockOutTypeStore}',
      	                  				},
      	                            },
      	                            {
      	                                xtype : 'textfield',
      	                                name : 'venderCode',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                hidden : true,
      	                                readOnly : true,
      	                            },{
      	                                xtype : 'textfield',
      	                                fieldLabel : '供应商',
      	                                name : 'venderName',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                readOnly : true,
      	                            }, {
    									xtype : 'button',
    									width : 80,
    									margin : '0 0 0 20',
    									text : '查找',
    									cls:'nu-btn-nobg',
    									iconCls: 'common-icon-serach',
    									listeners : {
    										click : 'onProviderSearch'
    									}
    								}
      	                        ]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {   
      	                                xtype: 'container',
      	                                border:false,           
//      	                                width : 500,
      	                                layout:'hbox',
      	                                items: [{
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,
      	                                            endDateField:'lastStockInDateEnd',
      	                                            fieldLabel: '入库日期',
      	                                            format: 'Y-m-d',
      	                                            name:'lastStockInDateStart'
      	                                        },
      	                                        {
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,
      	                                            align:'center',
      	                                            startDateField:'lastStockInDateStart',
      	                                            fieldLabel: '至',
      	                                            format: 'Y-m-d',
      	                                            name:'lastStockInDateEnd',
      	                                            margin : '0 0 0 20'
      	                                        }]

      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '是否直销',
      	                                name : 'isDirectSelling',
                                        itemId : 'isDirectSelling',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                mode : 'local ',
      	                                valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isDirectSellingStore}',
	  									},
      	                            }]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {   
      	                                xtype: 'container',
      	                                border:false,           
//      	                                width : 500,
      	                                layout:'hbox',
      	                                items: [{
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,
      	                                            endDateField:'lastStockOutDateEnd',
      	                                            fieldLabel: '出库日期',
      	                                            format: 'Y-m-d',
      	                                            name:'lastStockOutDateStart'
      	                                        },
      	                                        {
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,
      	                                            align:'center',
      	                                            startDateField:'lastStockOutDateStart',
      	                                            fieldLabel: '至',
      	                                            format: 'Y-m-d',
      	                                            name:'lastStockOutDateEnd',
      	                                            margin : '0 0 0 20'
      	                                        }]

      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '有合格证',
      	                                name : 'isHasCarDriveLicenseNo',
                                        itemId : 'isHasCarDriveLicenseNo',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                mode : 'local ',
      	                                valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{carDriveLicenseNoStore}',
	  									},
      	                            }]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {   
      	                                xtype: 'container',
      	                                border:false,           
//      	                                width : 500,
      	                                layout:'hbox',
      	                                items: [{
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,
      	                                            endDateField:'productionDateEnd',
      	                                            fieldLabel: '出厂日期',
      	                                            format: 'Y-m-d',
      	                                            name:'productionDateStart'
      	                                        },
      	                                        {
      	                                            xtype:'datefield',
      	                                            width : 200,
      	                                            labelWidth : 70,      	                                      
      	                                            align:'center',
      	                                            startDateField:'productionDateStart',
      	                                            fieldLabel: '至',
      	                                            format: 'Y-m-d',
      	                                            name:'productionDateEnd',
      	                                            margin : '0 0 0 20'
      	                                        }]

      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '是否入账',
      	                                name : 'isEnterInAccount',
                                        itemId : 'isEnterInAccount',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
      	                                mode : 'local ',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isEnterInAccountStore}',
	  									},
      	                            }]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                            	 xtype : 'combobox',
                                         fieldLabel : '是否锁定',
                                         name : 'isLocked',
                                         itemId : 'isLocked',
      	                                 labelWidth : 70,
      	                                 width : 200,
      	                                 valueField : 'code',
	   									 displayField : 'nameCn',
	   									 editable : false,
	   									 bind : {
	   										store : '{isLockedStore}',
	   									 },
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '是否大客户',
      	                                name : 'isBigCustomer',
                                        itemId : 'isBigCustomer',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isBigCustomerStore}',
	  									},
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '是否代验收',
      	                                name : 'isAgentAcceptance',
                                        itemId : 'isAgentAcceptance',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isAgentAcceptanceStore}',
	  									},
      	                            }
      	                        ]
      	            },{

      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                            	 xtype : 'combobox',
                                         fieldLabel : '车辆类型',
                                         name : 'carType',
                                         itemId : 'carType',
      	                                 labelWidth : 70,
      	                                 width : 200,
      	                                 valueField : 'code',
	   									 displayField : 'nameCn',
	   									 editable : false,
	   									 bind : {
	   										store : '{carTypeStore}',
	   									 },
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '资金来源',
      	                                name : 'sourceOfFund',
                                        itemId : 'sourceOfFund',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{sourceOfFundStore}',
	  									},
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '验收结果',
      	                                name : 'acceptanceResult',
                                        itemId : 'acceptanceResult',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{acceptanceResultStore}',
	  									},
      	                            }
      	                        ]
      	            },{
      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                items :[
      	                            {
      	                            	 xtype : 'combobox',
                                         fieldLabel : '品牌',
                                         name : 'carBrandCode',
      	                                 itemId : 'carBrandCodeItemId',
      	                                 reference : 'carBrandCodeRef',
      	                                 labelWidth : 70,
      	                                 width : 200,
      	                                 valueField : 'code',
      	                                 displayField : 'nameCn',
      	                                 queryModel : 'local',
      	                                 editable : false,
      	                                 bind : {
	  										store : '{carBrandStore}',
      	                                 },
      	                                 listeners : {
											change : 'onCarBrandChange'
      	                                 },
      	                            },{
      	                            	 xtype : 'combobox',
                                         fieldLabel : '车系',
                                         name : 'carSeriesCode',
                                         itemId : 'carSeriesCodeItemId',
                                         reference : 'carSeriesCodeRef',
      	                                 labelWidth : 70,
      	                                 margin : '0 0 0 20',
      	                                 width : 200,
    	                                 valueField : 'code',
    	                                 displayField : 'nameCn',
    	                                 queryModel : 'local',
    	                                 editable : false,
    	                                 bind : {
	  										store : '{carSeriesStore}',
    	                                 },
    	                                 listeners : {
 											change : 'onCarSeriesChange'
       	                                 },
      	                            },{
      	                            	 xtype : 'combobox',
                                         fieldLabel : '车型',
                                         name : 'carModelCode',
                                         itemId : 'carModelCodeItemId',
                                         reference : 'carModelCodeRef',
    	                                 labelWidth : 70,
    	                                 margin : '0 0 0 20',
    	                                 width : 200,
	  	                                 valueField : 'code',
	  	                                 displayField : 'nameCn',
	  	                                 queryModel : 'local',
	  	                                 editable : false,
	  	                                 bind : {
		  										store : '{carModelStore}',
	  	                                 },
      	                            }
      	                            
      	                        ]
      	            },{

      	            	xtype : 'container',
      	                layout: 'hbox',
      	                margin : '0 0 10 0',
      	                border:false,
      	                hidden:true,
      	                items :[
      	                            {
      	                            	 xtype : 'combobox',
                                         fieldLabel : '是否二手车',
                                         name : 'isUserdCar',
                                         itemId : 'isUserdCar',
      	                                 labelWidth : 70,
      	                                 width : 200,
      	                                 valueField : 'code',
	   									 displayField : 'nameCn',
	   									 editable : false,
	   									 bind : {
	   										store : '{isUserdCarStore}',
	   									 },
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '是否促销车',
      	                                name : 'isSalesPromotion',
                                        itemId : 'isSalesPromotion',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isSalesPromotionStore}',
	  									},
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '试乘试驾',
      	                                name : 'isTestDrive',
                                        itemId : 'isTestDrive',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isTestDriveStore}',
	  									},
      	                            },
      	                            {
      	                                xtype : 'combobox',
      	                                fieldLabel : '退车',
      	                                name : 'isBackCar',
                                        itemId : 'isBackCar',
      	                                labelWidth : 70,
      	                                width : 200,
      	                                margin : '0 0 0 20',
	      	                            valueField : 'code',
	  									displayField : 'nameCn',
	  									editable : false,
	  									bind : {
	  										store : '{isBackCarStore}',
	  									},
      	                            }
      	                        ]
      	            }
      	            ]
      	}],
        dockedItems : [ {
			xtype : 'toolbar',
			//flex : 1,
			dock : 'bottom',
			items : [{
                xtype: "button",
                //cls:'btn-success',
                text: "入库",
                iconCls : 'common-icon-checkin', 
                cls:'btn-success',
                listeners:{
                	click:'onStockInClick'
                },
            },{
                xtype: "button",
                //cls:'btn-success',
                text: "出库",
                iconCls : 'nu-export', 
                cls:'btn-primary',
                listeners:{
                	click:'onStockOutClick'
                },
            },{
                xtype: "button",
                //cls:'btn-success',
                text: "修改",
                iconCls : 'nu-order_edit', 
                cls:'btn-danger', 
                listeners:{
                	click:'onStockModifyClick'
                },
            },
//            {
//                xtype: "button",
//                //cls:'btn-success',
//                text: "删除",
//                listeners:{
//                	click:'onMGTdel'
//                },
//            },
            {
                xtype: 'tbfill'
            },{
            	xtype: 'button',
                text: '查 询',
                scale:'small',
                iconCls: 'common-icon-serach',
                handler:'onQueryCarStock',
            },{
            	xtype: 'button',
                text: '重置查询条件',
                scale:'small',
                iconCls: 'common-icon-serach',
                handler:'onResetQuery',
            }, ]
		} ]
    },
    {	
    	flex : 1,
		border : false,
		xtype : 'gridpanel',
		viewConfig: { enableTextSelection: true },
		reference : 'carStockGridRef',
		itemId : 'carStockGridItemId',
		bind : '{carStockGridStore}',
		autoScroll : true,
		selModel: {
    	        selType: 'checkboxmodel',
    	        mode: 'SIMPLE'
    	    },
        columns: [
  	              	{ xtype: 'gridcolumn',hidden:true,dataIndex:'carStockId'},
  	                { xtype: 'gridcolumn', text: 'VIN', dataIndex: 'vin' , width:180,align:'center',},
  	                { xtype: 'gridcolumn',  text: '发动机号', align:'center', dataIndex: 'carEngineNo', width:150 },
  	                { xtype: 'gridcolumn',  text: '合格证号', align:'center', dataIndex: 'carDriveLicenseNo'},
  	                { xtype: 'gridcolumn',  text: '钥匙编号', align:'center', dataIndex: 'carKeyNo', width:150},
  	                { xtype: 'gridcolumn',  text: '仓库', align:'center', dataIndex: 'stock', width:150,renderer: function (val){
                    	var gridStore = this.up('panel').down('#stock').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	                { xtype: 'gridcolumn',  text: '库位', dataIndex: 'stockPositionNo', width:150},
  	                { xtype: 'gridcolumn',  text: '经销商名称', dataIndex: 'agency', width:250,renderer: function (val){
                    	var gridStore = this.up('panel').down('#agency').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否入账', align:'center', dataIndex: 'isEnterInAccount', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#isEnterInAccount').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否代验收', align:'center', dataIndex: 'isAgentAcceptance', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#isAgentAcceptance').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否直销', dataIndex: 'isDirectSelling', width:100, hidden:true, renderer: function (val){
                    	var gridStore = this.up('panel').down('#isDirectSelling').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否退车', dataIndex: 'isBackCar', width:100, hidden:true, renderer: function (val){
                    	var gridStore = this.up('panel').down('#isBackCar').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否大用户', dataIndex: 'isBigCustomer', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#isBigCustomer').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '有合格证', dataIndex: 'carDriveLicenseNo', width:100,renderer: function (val){
                    	if (val) {
                    		return '是';
                        }else{
                        	return '否';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否二手车', align:'center',dataIndex: 'isUserdCar', width:100, hidden:true, renderer: function (val){
                    	var gridStore = this.up('panel').down('#isUserdCar').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否促销车', align:'center',dataIndex: 'isSalesPromotion', width:100, hidden:true, renderer: function (val){
                    	var gridStore = this.up('panel').down('#isSalesPromotion').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否试乘试驾', align:'center',dataIndex: 'isTestDrive', width:100, hidden:true, renderer: function (val){
                    	var gridStore = this.up('panel').down('#isTestDrive').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '是否锁定', dataIndex: 'isLocked', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#isLocked').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '库存状态', dataIndex: 'stockStatus', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#stockStatus').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '配车状态', dataIndex: 'distributionStatus', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#distributionStatus').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '验收结果', dataIndex: 'acceptanceResult', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#acceptanceResult').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '验收备注', dataIndex: 'acceptanceRemark', width:150},
  	              	{ xtype: 'gridcolumn',  text: '验收人员', dataIndex: 'inspector', width:100, renderer: function (val) {
                    	if (val) {
                    		var gridStore = this.up('panel').down('#createByUserId').getStore();
                    		return gridStore.findRecord('id', val) ? gridStore.findRecord('id', val).data.realname : '';
                        } else {
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '验收日期', dataIndex: 'inspectionDate', width:100, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '质损状态',align:'center' , dataIndex: 'damageStatus', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#damageStatus').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	                { xtype: 'gridcolumn',  text: '入库类型', align:'center' , dataIndex: 'stockInType', width:150,renderer: function (val){
                    	var gridStore = this.up('panel').down('#stockInType').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
					{ xtype: 'gridcolumn',  text: '出库类型', align:'center' , dataIndex: 'stockOutType', width:150,renderer: function (val){
                    	var gridStore = this.up('panel').down('#stockOutType').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '首次入库日期', dataIndex: 'firstStockInDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '最后入库日期', dataIndex: 'lastStockInDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '最后入库人',  dataIndex: 'lastStockInPerson', width:100, renderer: function (val) {
                    	if (val) {
                    		var gridStore = this.up('panel').down('#createBy').getStore();
                    		return gridStore.findRecord('username', val) ? gridStore.findRecord('username', val).data.realname : '';
                        } else {
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '最后入库备注',  dataIndex: 'lastStockInRemark', width:150},
  	              	{ xtype: 'gridcolumn',  text: '首次出库日期',  dataIndex: 'firstStockOutDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '最后出库日期', align:'center' , dataIndex: 'lastStockOutDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '最后出库人', align:'center' ,  dataIndex: 'lastStockOutPerson', width:100, renderer: function (val) {
                    	if (val) {
                    		var gridStore = this.up('panel').down('#createBy').getStore();
                    		return gridStore.findRecord('username', val) ? gridStore.findRecord('username', val).data.realname : '';
                        } else {
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '最后出库备注', align:'center' ,  dataIndex: 'lastStockOutRemark', width:150},
  	              	{ xtype: 'gridcolumn',  text: '产品代码',  dataIndex: 'carProductCode', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '产品名称',  dataIndex: 'carProductName', width:350},
  	              	{ xtype: 'gridcolumn',  text: '品牌',  dataIndex: 'carBrandName', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '车系',  dataIndex: 'carSeriesName', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '车型',  dataIndex: 'carModelName', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '颜色',  dataIndex: 'carColorName', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '车辆类型',  dataIndex: 'carType', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#carType').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '排气量',  dataIndex: 'displacement', width:80},
  	              	{ xtype: 'gridcolumn',  text: '排放标准',  dataIndex: 'dischargeStandard', width:100},
  	              	{ xtype: "numbercolumn", format: '0,0.00',  text: '含税采购价',  dataIndex: 'taxPurchasePrice', width:120},
  	              	{ xtype: 'gridcolumn',  text: '税率',  dataIndex: 'taxRate', width:100},
  	              	{ xtype: "numbercolumn", format: '0,0.00',  text: '不含税采购价',  dataIndex: 'taxExcludedPurchasePrice', width:120},
  	              	{ xtype: "numbercolumn", format: '0,0.00',  text: '车厂指导价',  dataIndex: 'oemDirectivePrice', width:120},
  	              	{ xtype: "numbercolumn", format: '0,0.00',  text: '销售指导价',  dataIndex: 'directivePrice', width:120},
  	              	{ xtype: 'gridcolumn',  text: '生产日期',  dataIndex: 'madeDate', width:100, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '出厂日期',  dataIndex: 'productionDate', width:100, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: 'Call车单号',  dataIndex: 'carCallNo', width:150},
  	              	{ xtype: 'gridcolumn',  text: '厂家订单号',  dataIndex: 'supplierOrderNo', width:150},
  	              	{ xtype: 'gridcolumn',  text: '销售订单编号',  dataIndex: 'saleOrderNo', width:150},
  	              	{ xtype: 'gridcolumn',  text: '供应单位Code',  dataIndex: 'venderCode', width:150, hidden:true},
  	              	{ xtype: 'gridcolumn',  text: '供应单位',  dataIndex: 'venderName', width:150},
  	              	{ xtype: 'gridcolumn',  text: '车辆在途天数',  dataIndex: 'carOnTheWayDay', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '发车日期',  dataIndex: 'sendCarDate', width:150, renderer: 'yyyyMMddDateEditor', hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '预计送达日期',  dataIndex: 'expectedDeliveryDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '实际送达日期',  dataIndex: 'realDeliveryDate', width:120, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '发货单号',  dataIndex: 'invoiceNo', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '送车人姓名',  dataIndex: 'deliveryManName', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '送车人电话',  dataIndex: 'deliveryManPhone', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '承运车牌号',  dataIndex: 'deliveryCarPlateNo', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '承运商名称',  dataIndex: 'deliveryCompanyName', width:150, hidden:true, },
  	              	{ xtype: 'gridcolumn',  text: '采购日期',  dataIndex: 'purchaseDate', width:100, renderer: 'yyyyMMddDateEditor'},
  	              	{ xtype: 'gridcolumn',  text: '收货地址',  dataIndex: 'receiptAddress', width:150},
  	              	{ xtype: 'gridcolumn',  text: '产地',  dataIndex: 'productingAddress', width:150},
  	              	{ xtype: 'gridcolumn',  text: '合格证所在地',  dataIndex: 'certificateLocated', width:150},
  	              	{ xtype: 'gridcolumn',  text: '资金来源',  dataIndex: 'sourceOfFund', width:100,renderer: function (val){
                    	var gridStore = this.up('panel').down('#sourceOfFund').getStore();
                    	if (val) {
                    		return gridStore.findRecord('code', val) ? gridStore.findRecord('code', val).data.nameCn : '';
                        }else{
                        	return '';
                        }
                    }},
  	              	{ xtype: 'gridcolumn',  text: '车辆免息期',  dataIndex: 'carFreePeriod', width:100},
  	              	{ xtype: 'gridcolumn',  text: '附加成本',  dataIndex: 'additionalCost', width:100},
  	              	{ xtype: 'gridcolumn',  text: '备注',  dataIndex: 'remark', width:150, hidden:true},
  	              	
  	                ],
				bbar : [ {
					xtype : 'pagingtoolbar',
					bind : {
						store : '{carStockGridStore}'
					},
					displayMsg : '显示 {0} - {1} 条，共计 {2} 条',
					emptyMsg : "没有数据",
					beforePageText : "当前页",
					afterPageText : "共{0}页",
					displayInfo : true,
					width : '100%'
				} ],
    }

]

});